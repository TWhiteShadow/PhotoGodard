{% extends 'base_admin.html.twig' %}


{% block body %}
{# Sidebar Hamburger Button #}
<button data-drawer-target="default-sidebar" data-drawer-toggle="default-sidebar" aria-controls="default-sidebar" type="button" class="inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
	<span class="sr-only">Open sidebar</span>
	<svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
		<path clip-rule="evenodd" fill-rule="evenodd" d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"></path>
	</svg>
</button>

<aside id="default-sidebar" class="fixed top-0 left-0 z-40 w-fit-content max-w-[17rem] h-screen transition-transform -translate-x-full md:translate-x-0 shadow-xl" aria-label="Sidebar">
	<div class="flex flex-col h-full justify-between px-3 py-4 overflow-y-auto bg-gray-50 dark:bg-gray-800">
		<div>
			{# Logo Branding Div #}
			<a href="{{ path('app_admin') }}" class="flex items-center px-2 mb-5">
				{# <img src="{{ asset('images/logo_st_vincent_propre.png') }}" class="h-6 me-3 sm:h-7" alt="MathIndex Logo"/> #}
				<div class="grid">
					<span class="self-center text-xl font-semibold whitespace-nowrap text-cse dark:text-white">Dashboard</span>
					{# <span class="self-center text-sm lightgray whitespace-nowrap text-slate-500 dark:text-white">Lycée Saint-Vincent - Senlis</span> #}
				</div>
			</a>

			{# List of Pages #}
			<ul class="space-y-2 font-medium relative h-full max-h-fit">
				<li>
					<a href="{{ path('app_admin') }}" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
					<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-cse group-hover:transition-all dark:group-hover:text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64V400c0 44.2 35.8 80 80 80H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H80c-8.8 0-16-7.2-16-16V64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z"/></svg>						<span class="flex-1 ms-3 whitespace-nowrap  group-hover:text-cse group-hover:transition-all group-hover:font-bold">Satistiques</span>
					</a>
				</li>
				<li>
					<a href="{{ path('app_admin_homepage_index') }}" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
						<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-cse group-hover:transition-all dark:group-hover:text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg" height="22" width="24" viewbox="0 0 576 512"><path d="M543.8 287.6c17 0 32-14 32-32.1c1-9-3-17-11-24L512 185V64c0-17.7-14.3-32-32-32H448c-17.7 0-32 14.3-32 32v36.7L309.5 7c-6-5-14-7-21-7s-15 1-22 8L10 231.5c-7 7-10 15-10 24c0 18 14 32.1 32 32.1h32v69.7c-.1 .9-.1 1.8-.1 2.8V472c0 22.1 17.9 40 40 40h16c1.2 0 2.4-.1 3.6-.2c1.5 .1 3 .2 4.5 .2H160h24c22.1 0 40-17.9 40-40V448 384c0-17.7 14.3-32 32-32h64c17.7 0 32 14.3 32 32v64 24c0 22.1 17.9 40 40 40h24 32.5c1.4 0 2.8 0 4.2-.1c1.1 .1 2.2 .1 3.3 .1h16c22.1 0 40-17.9 40-40V455.8c.3-2.6 .5-5.3 .5-8.1l-.7-160.2h32z"/></svg>
						<span class="flex-1 ms-3 whitespace-nowrap  group-hover:text-cse group-hover:transition-all group-hover:font-bold">Accueil</span>
					</a>
				</li>
				{# <li>
					<a href="{{ path('app_admin_photo_index') }}" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
						<i class="fa-solid fa-image"></i>
						<span class="flex-1 ms-3 whitespace-nowrap  group-hover:text-cse group-hover:transition-all group-hover:font-bold">Photos</span>
					</a>
				</li> #}
				<li>
					<a href="{{ path('app_admin_category_index') }}" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">

						<i class="fa-solid fa-icons"></i>
						<span class="flex-1 ms-3 whitespace-nowrap  group-hover:text-cse group-hover:transition-all group-hover:font-bold">Categories</span>
					</a>
				</li>
				<li>
					<a href="{{ path('app_admin_album_index') }}" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
						<i class="fa-solid fa-user-lock"></i>
						<span class="flex-1 ms-3 whitespace-nowrap  group-hover:text-cse group-hover:transition-all group-hover:font-bold">Albums</span>
					</a>
				</li>
			</ul>

		</div>
		{% if app.user is defined and app.user is not null %}
			{% if 'ROLE_ADMIN' in app.user.roles or 'ROLE_STUDENT' in app.user.roles or 'ROLE_TEACHER' in app.user.roles %}
				{# Sign-Out Button #}
				<div class="mt-2">
					<a data-modal-target="default-modal" data-modal-toggle="default-modal" class="flex cursor-pointer items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
						<svg class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-cse group-hover:transition-all dark:group-hover:text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewbox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"/></svg>
						<span class="flex-1 ms-3 whitespace-nowrap  group-hover:text-cse group-hover:transition-all group-hover:font-bold">Déconnexion</span>
					</a>
				</div>
			{% endif %}
		{% endif %}
	</div>
</aside>

{# Navbar #}
<div class=" md:ml-[17rem] md:pt-0">
	<nav class="bg-white border-gray-200 dark:bg-gray-900 top-0 right-0 absolute md:relative md:h-[90px]">
		<div class="flex flex-wrap items-center justify-end h-full mx-auto px-4">
			<div class="flex items-center md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
				{% if app.user is defined and app.user is not null %}
					{% if 'ROLE_ADMIN' in app.user.roles or 'ROLE_STUDENT' in app.user.roles or 'ROLE_TEACHER' in app.user.roles %}
						<button type="button" class="flex text-md items-center gap-2 hover:bg-gray-100 md:p-4 p-2 rounded-lg" id="user-menu-button" aria-expanded="false" data-dropdown-toggle="user-dropdown" data-dropdown-placement="bottom">
							<span class="block text-md text-gray-900 dark:text-white">
								{% if app.user is defined and app.user is not null %}
									{{ app.user.email }}
								{% endif %}
							</span>
							<i class="fa-solid fa-user"></i>
						</button>
						{# Dropdown Menu #}
						<div class="z-30 hidden my-4 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600" id="user-dropdown">
							<div class="px-4 py-3">
								<span class="block text-sm  text-gray-500 truncate dark:text-gray-400">
									{% if app.user is defined and app.user is not null %}
										{{ app.user.email }}
									{% endif %}
								</span>
							</div>
							<ul class="py-2" aria-labelledby="user-menu-button">
								{% if 'ROLE_ADMIN' in app.user.roles %}
									<li>
										<a href="#" class="flex items-center justify-between  px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
											Administation
											<svg class="flex-shrink-0 w-4 h-4 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-cse group-hover:transition-all dark:group-hover:text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg" height="16" width="20" viewbox="0 0 640 512"><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H392.6c-5.4-9.4-8.6-20.3-8.6-32V352c0-2.1 .1-4.2 .3-6.3c-31-26-71-41.7-114.6-41.7H178.3zM528 240c17.7 0 32 14.3 32 32v48H496V272c0-17.7 14.3-32 32-32zm-80 32v48c-17.7 0-32 14.3-32 32V480c0 17.7 14.3 32 32 32H608c17.7 0 32-14.3 32-32V352c0-17.7-14.3-32-32-32V272c0-44.2-35.8-80-80-80s-80 35.8-80 80z"/></svg>
										</a>
									</li>
								{% endif %}
								<li>
									<a data-modal-target="default-modal" data-modal-toggle="default-modal" class="flex cursor-pointer items-center justify-between px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">
										Déconnexion
										<svg class="flex-shrink-0 w-4 h-4 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-cse group-hover:transition-all dark:group-hover:text-white" fill="currentColor" xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewbox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"/></svg>
									</a>
								</li>
							</ul>
						</div>
					{% endif %}
					{# Currently in the if app.user is defined and app.user is not null #}
					<!-- Main modal -->
					<div id="default-modal" tabindex="-1" aria-hidden="true" class="hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 justify-center items-center w-full !m-0 h-[calc(100%-1rem)] max-h-full">
						<div
							class="relative p-4 w-full max-w-2xl max-h-full">
							<!-- Modal content -->
							<div
								class="relative bg-white rounded-lg shadow dark:bg-gray-700">
								<!-- Modal header -->
								<div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
									<h3 class="text-xl text-center font-semibold text-cse dark:text-white">
										Déconnexion
									</h3>
									<button type="button" class="transition-all text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="default-modal">
										<svg class="w-3 h-3 transition-all" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 14 14">
											<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
										</svg>
										<span class="sr-only transition-all">Close modal</span>
									</button>
								</div>
								<!-- Modal body -->
								<div class="p-4 md:p-5 space-y-4">
									<p class="text-base leading-relaxed text-gray-700 dark:text-gray-400  text-center">
										Êtes-vous sûr(e) de vouloir vous déconnecter ?
									</p>
								</div>
								<!-- Modal footer -->
								<div class="flex justify-end items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
									<a href="{{path('app_logout')}}" data-modal-hide="default-modal" type="button" class="transition-all text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Oui, me déconnecter</a>
									<button data-modal-hide="default-modal" type="button" class="ms-3 transition-all text-white bg-red-400 hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-red-300 rounded-lg border border-red-200 text-sm font-medium px-5 py-2.5 hover:text-white focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600">Non merci</button>
								</div>
							</div>
						</div>
					</div>
				{% else %}
					<a href="{{path('app_login')}}" class="flex text-md items-center gap-2 hover:bg-gray-100 p-4 rounded-lg">
						<svg fill="none" height="24" viewbox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="m11 21h1c4.9706 0 9-4.0294 9-9 0-4.97056-4.0294-9-9-9h-1m0 13 4-4m0 0-4-4m4 4h-12" stroke="#1B3168" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg>
						<div>
							<span class="block text-md text-gray-900 dark:text-white">Connexion</span>
						</div>
					</a>
				{% endif %}


			</div>
		</div>
	</nav>

	{# Main Content #}
	<div class="p-4 md:border-2 border-gray-200 md:border-dashed rounded-lg dark:border-gray-700 md:mt-0 mt-3 transition-all md:m-4 ">
		<div class="md:bg-gray-100 dark:bg-gray-800 md:px-8 md:py-14 h-full">
			{% block main_content %}
				{# First Square #}
				<div class="flex items-center justify-center h-24 rounded dark:bg-gray-800">
				{{ diskFreeSpace }}
				{{ diskTotalSpace }}
				{{ availableDiskSpace }}
				{{ usedDiskSpace }}
				</div>
			{% endblock %}
		</div>
	</div>
	{# <ul class="flex p-6 w-full h-fit-content md:justify-start flex-wrap justify-center list-disc gap-6">
		<li class="list-none">
			<a href="#">Mentions légales</a>
		</li>
		<li>
			<a href="#">Contact</a>
		</li>
		<li>
			<a href="#">Lycée Saint-Vincent</a>
		</li>
	</ul> #}
</div>




    
{% endblock %}